#include <iostream>
#include <stdio.h>
// Функция f изменяет локальную переменную main через "адрес в стеке"
void f(int *sp) {
    *(sp - 2) = 0; // "Перезаписываем" переменную x из main
    return;        // выход из функции f
}

// Функция g вызывает сама себя бесконечно
void g() {
    g(); // бесконечный вызов себя
    return; // сюда никогда не дойдём
}

int main() {
    int x = 1;          // создаём локальную переменную x
    int *sp = &x;       // имитируем "stack pointer" на x

    printf("До вызова f(): x = %d\n", x); // выводим x до изменения
    f(sp);                                   // вызываем функцию f, которая меняет x
    printf("После вызова f(): x = %d\n", x); // выводим x после изменения

    // Uncomment для демонстрации stack overflow
    // g(); // вызов бесконечной рекурсии

    return 0; // выход из main
}
